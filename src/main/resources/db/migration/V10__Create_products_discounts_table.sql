CREATE TABLE IF NOT EXISTS restaurant_service.products_discounts
(
    id          INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    code        VARCHAR(50)   NOT NULL UNIQUE,                                   -- Промокод
    product_id  INTEGER REFERENCES restaurant_service.products (id) ON DELETE CASCADE,
    description TEXT,
    discount    DECIMAL(5, 2) NOT NULL CHECK (discount > 0 AND discount <= 100), -- Скидка в процентах
    valid_from  TIMESTAMP     NOT NULL,
    valid_to    TIMESTAMP     NOT NULL
);
